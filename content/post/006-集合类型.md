---
title: é›†åˆç±»å‹
slug: collection-types
date: 2018-12-26T23:11:51+08:00
description: é›†åˆç±»å‹
categories:
  - iOSå¼€å‘å…¥é—¨
tags:
  - iOS
---

Swiftæœ‰ä¸‰ç§ä¸»è¦çš„é›†åˆç±»å‹ï¼Œåˆ†åˆ«æ˜¯:

* Arrays
* Sets
* dictionaries

<!--more-->

## æ•°ç»„ï¼ˆArraysï¼‰

æ•°ç»„æ˜¯åŒ…å«**ç›¸åŒæ•°æ®ç±»å‹**çš„**æœ‰åº**æ•°æ®é›†åˆï¼Œ**å…è®¸ç›¸åŒçš„æ•°æ®**å‡ºç°åœ¨ä¸åŒçš„ä½ç½®ã€‚


### åˆ›å»ºä¸€ä¸ªç©ºæ•°ç»„

```swift
// ä¸¤ç§ä¸åŒçš„å†™æ³•
var someInts = [Int]()
var anotherInts: [Int] = []

print(someInts.count) // 0
print(anotherInts.count) // 0
```

<!--more-->

### åˆ›å»ºæœ‰å€¼çš„æ•°ç»„

```swift
var shoppingList: [String] = ["Eggs", "Milk"]
```

### åˆ›å»ºå«æœ‰é»˜è®¤å€¼çš„æ•°ç»„

```swift
var threeDoubles = Array(repeating: 0.0, count: 3)
print(threeDoubles) // [0.0, 0.0, 0.0]
```

### é€šè¿‡ç›¸åŠ æ•°ç»„åˆ›å»ºæ–°çš„æ•°ç»„

```swift
var threeDoubles = Array(repeating: 0.0, count: 3)
print(threeDoubles)

var anotherTrheeDoubles = Array(repeating: 2.5, count: 3)

var sixDoubles = threeDoubles + anotherTrheeDoubles
print(sixDoubles) // [0.0, 0.0, 0.0, 2.5, 2.5, 2.5]
```

### æ•°ç»„å¸¸ç”¨çš„å±æ€§å’Œæ–¹æ³•

* è·Ÿå­—ç¬¦ä¸²ç±»å‹ç±»ä¼¼ï¼Œä½¿ç”¨`count`å±æ€§è·å–æ•°ç»„å…ƒç´ çš„ä¸ªæ•°ï¼Œ ä½¿ç”¨`isEmpty`å±æ€§å¯ä»¥æ£€æŸ¥æ•°ç»„æ˜¯å¦ä¸ºç©ºã€‚

* ä½¿ç”¨`append`æ–¹æ³•å¯ä»¥æ·»åŠ ä¸€ä¸ªå…ƒç´ åˆ°æ•°ç»„
* ä½¿ç”¨`+=`å¯ä»¥æ·»åŠ ä¸€ä¸ªæ•°ç»„åˆ°å¦ä¸€ä¸ªæ•°ç»„

    ```swift
    var shoppingList: [String] = ["Eggs", "Milk"]

    shoppingList.append("Flour")

    shoppingList += ["Baking", "Powder"]
    ```

* ä½¿ç”¨ä¸‹æ ‡å¯ä»¥ä¿®æ”¹æ•°ç»„å…ƒç´ 

    ```swift
    shoppingList[0] = "Six Eggs"

    // ä¸‹æ ‡æŒ‡å®šçš„å…ƒç´ ä¸ªæ•°å’Œèµ‹å€¼çš„å…ƒç´ ä¸ªæ•°ä¸ä¸€å®šè¦ç›¸åŒ
    shoppingList[1...4] = ["Bananas", "Apples"]
    ```

* æ’å…¥/åˆ é™¤ä¸€ä¸ªå…ƒç´ 

    ```swift
    shoppingList.insert("Maple Syrup", at: 0)

    // åˆ é™¤æŒ‡å®šä½ç½®çš„å…ƒç´ 
    shoppingList.remove(at: 3)

    // åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ 
    shoppingList.removeLast()
    ```

* éå†æ•°ç»„

    ```swift
    for item in shoppingList {
        print(item)
    }
    ```

## é›†åˆ(Sets)

é›†åˆå°±æ˜¯**æ— åº**ï¼Œ **å”¯ä¸€**ï¼Œ **ç›¸åŒæ•°æ®ç±»å‹**çš„é›†åˆ


### é›†åˆçš„ä¸­çš„æ•°æ®ç±»å‹å¿…é¡»æ˜¯`hashble`

ä¸ºäº†å®ç°å”¯ä¸€æ€§ï¼Œé›†åˆä¸­çš„å…ƒç´ å¿…é¡»æ˜¯`hashble`çš„ï¼Œæ¯”è¾ƒä¸¤ä¸ªå…ƒç´ æ˜¯å¦ç›¸åŒæ—¶ï¼Œæ¯”è¾ƒçš„å…¶å®å°±æ˜¯hashå€¼ï¼Œæ¯”å¦‚`a` == `b` å°±æ˜¯æ¯”è¾ƒ`a.hashValue` == `b.hashValue`ã€‚

æ‰€æœ‰çš„SwiftåŸºç¡€ç±»å‹(`String`, `Int`, `Double`å’Œ`Bool`)é»˜è®¤éƒ½æ˜¯`hashble`çš„ã€‚å½“è‡ªå®šä¹‰ç±»å‹éœ€è¦åŠ å…¥åˆ°Setsæ—¶ï¼Œéœ€è¦è‡ªå·±å®ç°`Hashable`åè®®ã€‚


### åˆ›å»ºé›†åˆ


```swift
// åˆ›å»ºä¸€ä¸ªç©ºé›†åˆ
var letters = Set<Character>()
var anohterletters: Set<Character> = []

// åˆ›å»ºåˆå§‹æœ‰å€¼çš„é›†åˆ
var favoriteGenres: Set<String> = ["Rock", "Classical", "Hip hop"]
// ç®€å†™å½¢å¼
var favoriteGenres: Set = ["Rock", "Classical", "Hip hop"]
```

### é›†åˆå¸¸ç”¨çš„å±æ€§å’Œæ–¹æ³•

* è·Ÿå­—ç¬¦ä¸²ç±»å‹ç±»ä¼¼ï¼Œä½¿ç”¨`count`å±æ€§è·å–é›†åˆå…ƒç´ çš„ä¸ªæ•°ï¼Œ ä½¿ç”¨`isEmpty`å±æ€§å¯ä»¥æ£€æŸ¥é›†åˆæ˜¯å¦ä¸ºç©ºã€‚

* å¾€é›†åˆæ·»åŠ å…ƒç´ å¯ä»¥ä½¿ç”¨`insert(_:)`æ–¹æ³•ï¼Œ åˆ é™¤å…ƒç´ ä½¿ç”¨`remove(_:)` æ–¹æ³•, æ£€æŸ¥æ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´ å¯ä»¥ä½¿ç”¨`contains(_:)`æ–¹æ³•

    ```swift
    var fruits: Set = ["Apple", "Pear", "Orange"]
    fruits.insert("Banana")
    fruits.remove("Apple")

    fruits.contains("Pear")

    // éåŠé›†åˆ
    for fruit in fruits {
        print(fruit)
    }
    ```


### é›†åˆæ“ä½œ

![Set Opearations](http://images.wiseturtles.com/2018-12-03-swift_set_operations.png)

```swift
let oddDigits: Set = [1,3,5,7,9]
let evenDigits: Set = [0,2,4,6,8]
let singleDigitPrimerNumbers:Set = [2,3,5,7]

// ä¸¤ä¸ªé›†åˆçš„äº¤é›†
print(oddDigits.intersection(evenDigits).sorted()) // []
// ä¸¤ä¸ªé›†åˆäº¤é›†ä»¥å¤–çš„é›†åˆ
print(oddDigits.symmetricDifference(singleDigitPrimerNumbers).sorted()) // [1, 2, 9]
// ä¸¤ä¸ªé›†åˆçš„å¹¶é›†
print(oddDigits.union(evenDigits).sorted()) // [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
// å±äºé›†åˆa, ä½†æ˜¯ä¸å±äºé›†åˆb
print(oddDigits.subtracting(singleDigitPrimerNumbers).sorted()) // [1, 9]
```

### é›†åˆå…³ç³»
å‡å¦‚æœ‰ä¸‰ä¸ªé›†åˆ`a`, `b`, `c`çš„å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤º:

* `a`æ˜¯`b`çš„çˆ¶é›†ï¼Œ`a`åŒ…å«æ‰€æœ‰`b`ä¸­çš„å…ƒç´ 
* `b`æ˜¯`a`çš„è‡ªå·±ï¼Œ`b`ä¸­çš„å…ƒç´ `a`ä¸­éƒ½æœ‰
* `b`å’Œ`c`æ²¡æœ‰ç›¸äº¤ï¼Œå®ƒä»¬ä¹‹é—´æ²¡æœ‰ç›¸åŒçš„å…ƒç´ 

![set membership](http://images.wiseturtles.com/2018-12-03-swift_set_membership.png)

```swift
let houseAnimals: Set = ["ğŸ¶", "ğŸ±"]
let farmAnimals: Set = ["ğŸ®", "ğŸ”", "ğŸ‘", "ğŸ¶", "ğŸ±"]
let cityAnimals: Set = ["ğŸ¦", "ğŸ­"]

// ç”¨"=="åˆ¤æ–­ä¸¤ä¸ªé›†åˆæ˜¯å¦ç›¸åŒ
houseAnimals == cityAnimals // false
// æ˜¯å¦æ˜¯å­é›†(ä¸¤ä¸ªé›†åˆå¯èƒ½ç›¸ç­‰)
houseAnimals.isSubset(of: farmAnimals) // true
// æ˜¯å¦æ˜¯çˆ¶é›†
farmAnimals.isSuperset(of: houseAnimals) // true
// æ˜¯å¦ä¸ç›¸äº¤
farmAnimals.isDisjoint(with: cityAnimals) // true

// åˆ¤æ–­æ˜¯å¦æ˜¯å­é›†æˆ–çˆ¶é›†(ä¸¤ä¸ªé›†åˆä¸ç›¸ç­‰)
houseAnimals.isStrictSubset(of: farmAnimals) // true
farmAnimals.isStrictSuperset(of: houseAnimals) // true

houseAnimals.isSubset(of: houseAnimals)  // true
houseAnimals.isStrictSubset(of: houseAnimals) // false
```

## å­—å…¸(Dictionaries)

å­—å…¸å°±æ˜¯é”®å€¼å¯¹çš„é›†åˆï¼Œè·ŸSetç±»å‹ä¸€æ ·ï¼Œå­—å…¸çš„é”®ä¹Ÿå¿…é¡»æ˜¯`hashble`çš„ï¼Œå­—æ®µä¸­çš„å…ƒç´ éƒ½æ˜¯æ— åºçš„


### åˆ›å»ºä¸€ä¸ªç©ºå­—å…¸

```swift
var namesOfIntegers = [Int: String]()
```


### ä½¿ç”¨å­—å…¸è¯­æ³•åˆ›å»ºå­—å…¸

```swift
var airports:[String: String] = ["XYZ": "Toronto Pearson", "DUB": "Dublin"]
```

### æ•°ç»„å¸¸ç”¨çš„å±æ€§å’Œæ–¹æ³•

* è·Ÿæ•°ç»„ä¸€æ ·ï¼Œå¯ä»¥ä½¿ç”¨*åªè¯»*å±æ€§`count`è·å–å­—å…¸ä¸­çš„å…ƒç´ ä¸ªæ•°
* ä½¿ç”¨`isEmpty`å±æ€§æ£€æŸ¥å­—å…¸å…ƒç´ æ ¼å¼æ˜¯å¦ä¸º0
* å¯ä»¥ç›´æ¥ä½¿ç”¨ä¸‹æ ‡è®¿é—®å­—å…¸

    ```swift
    airports["LHR"] = "London"
    airports["LHR"] = "London Heathrow"
    ```
* é™¤äº†ä¸Šé¢é€šè¿‡ä¸‹æ ‡çš„æ–¹å¼ä¿®æ”¹å…ƒç´ çš„å€¼ä¹‹å¤–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨`updateValue(_:forKey:)`æ¥ä¿®æ”¹å…ƒç´ çš„å€¼ï¼Œä¸ä½¿ç”¨ä¸‹æ ‡æ–¹å¼ä¸åŒçš„å€¼ï¼Œå¦‚æœæŒ‡å®šçš„keyå­˜åœ¨çš„è¯ï¼Œå®ƒé™¤äº†æ”¹å˜keyçš„å€¼ä¹‹å¤–ï¼Œè¿˜ä¼šè¿”å›keyä¹‹å‰çš„å€¼

    ```swift
    airports["Name"] = "John"
    if let oldValue = airports.updateValue("Crazygit", forKey: "Name") {
        print(oldValue) // print "John"
    }

    ```

* é€šè¿‡ä¸‹æ ‡è®¿é—®å­—æ®µçš„æ—¶å€™ï¼Œè¿”å›çš„å€¼ä¹Ÿæ˜¯å¯é€‰å€¼ç±»å‹, å½“keyä¸å­˜åœ¨æ—¶ï¼Œç›´æ¥è¿”å›`nil`

    ```swift
    if let name = airports["Name"] {
        print(name)
    }
    else {
        print("No Name")
    }
    ```

* åˆ é™¤å…ƒç´ æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯ä½¿ç”¨ä¸‹æ ‡çš„æ–¹å¼ï¼Œå°†å…ƒç´ èµ‹å€¼ä¸º`nil`

    ```swift
    airports["Name"] = nil
    print(airports)  // Nameé”®å·²ç»ä»å­—å…¸ä¸­ç§»é™¤
    ```

    å¦ä¸€ç§æ–¹å¼æ˜¯ä½¿ç”¨`removeValue(forkey:)`æ–¹æ³•ï¼Œä¸é€šè¿‡ä¸‹æ ‡è®¿é—®çš„ä¸åŒçš„æ˜¯ï¼Œå®ƒä¼šè¿”å›è¢«ç§»é™¤çš„å€¼

    ```swift
    if let removedValue = airports.removeValue(forKey: "DUB") {
        print("Remove key DUB from airports dict")
    }
    else{
        print("airport dict dose not contain a value for DUB")
    }
    ```

* éå†å­—å…¸

    ```swift
    // éå†é”®å’Œå€¼
    for (key, value) in airports {
        print("\(key) => \(value)")
    }

    // éå†é”®
    for key in airports.keys {
        print(key)
    }

    // éå†å€¼
    for value in airports.values {
        print(value)
    }

    ```
